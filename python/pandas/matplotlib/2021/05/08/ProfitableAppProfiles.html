<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Profitable App Profiles for iOS and Android | MAHG Data Science</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Profitable App Profiles for iOS and Android" />
<meta name="author" content="Migs Germar" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this project, I analyze app store data and determine profitable app profiles for a hypothetical app company." />
<meta property="og:description" content="In this project, I analyze app store data and determine profitable app profiles for a hypothetical app company." />
<link rel="canonical" href="https://miguelahg.github.io/mahg-data-science/python/pandas/matplotlib/2021/05/08/ProfitableAppProfiles.html" />
<meta property="og:url" content="https://miguelahg.github.io/mahg-data-science/python/pandas/matplotlib/2021/05/08/ProfitableAppProfiles.html" />
<meta property="og:site_name" content="MAHG Data Science" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-08T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://miguelahg.github.io/mahg-data-science/python/pandas/matplotlib/2021/05/08/ProfitableAppProfiles.html","@type":"BlogPosting","headline":"Profitable App Profiles for iOS and Android","dateModified":"2021-05-08T00:00:00-05:00","datePublished":"2021-05-08T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://miguelahg.github.io/mahg-data-science/python/pandas/matplotlib/2021/05/08/ProfitableAppProfiles.html"},"author":{"@type":"Person","name":"Migs Germar"},"description":"In this project, I analyze app store data and determine profitable app profiles for a hypothetical app company.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/mahg-data-science/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://miguelahg.github.io/mahg-data-science/feed.xml" title="MAHG Data Science" /><link rel="shortcut icon" type="image/x-icon" href="/mahg-data-science/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/mahg-data-science/">MAHG Data Science</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/mahg-data-science/about/">About Me</a><a class="page-link" href="/mahg-data-science/search/">Search</a><a class="page-link" href="/mahg-data-science/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Profitable App Profiles for iOS and Android</h1><p class="page-description">In this project, I analyze app store data and determine profitable app profiles for a hypothetical app company.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-05-08T00:00:00-05:00" itemprop="datePublished">
        May 8, 2021
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Migs Germar</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      37 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/mahg-data-science/categories/#python">python</a>
        &nbsp;
      
        <a class="category-tags-link" href="/mahg-data-science/categories/#pandas">pandas</a>
        &nbsp;
      
        <a class="category-tags-link" href="/mahg-data-science/categories/#matplotlib">matplotlib</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/MiguelAHG/mahg-data-science/tree/master/_notebooks/2021-05-08-ProfitableAppProfiles.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/mahg-data-science/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/MiguelAHG/mahg-data-science/master?filepath=_notebooks%2F2021-05-08-ProfitableAppProfiles.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/mahg-data-science/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/MiguelAHG/mahg-data-science/blob/master/_notebooks/2021-05-08-ProfitableAppProfiles.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/mahg-data-science/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#Overview">Overview </a></li>
<li class="toc-entry toc-h1"><a href="#Package-Installs">Package Installs </a></li>
<li class="toc-entry toc-h1"><a href="#App-Data-Overview">App Data Overview </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Apple-App-Store-dataset">Apple App Store dataset </a></li>
<li class="toc-entry toc-h2"><a href="#Google-Play-Store-dataset">Google Play Store dataset </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Data-Cleaning">Data Cleaning </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Inaccurate-Data">Inaccurate Data </a></li>
<li class="toc-entry toc-h2"><a href="#Duplicate-Data">Duplicate Data </a></li>
<li class="toc-entry toc-h2"><a href="#Non-English-Apps">Non-English Apps </a></li>
<li class="toc-entry toc-h2"><a href="#Paid-Apps">Paid Apps </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#App-Company's-Context">App Company&#39;s Context </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Apple-App-Store:-Prime-Genres">Apple App Store: Prime Genres </a></li>
<li class="toc-entry toc-h2"><a href="#Google-Play-Store:-Categories">Google Play Store: Categories </a></li>
<li class="toc-entry toc-h2"><a href="#Google-Play-Store:-Genres">Google Play Store: Genres </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#App-Types-by-Number-of-Users">App Types by Number of Users </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Apple-Prime-Genres:-Rating-Counts">Apple Prime Genres: Rating Counts </a></li>
<li class="toc-entry toc-h2"><a href="#Google-Categories:-Installs">Google Categories: Installs </a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#App-Profile-Ideas">App Profile Ideas </a></li>
<li class="toc-entry toc-h1"><a href="#Conclusion">Conclusion </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-05-08-ProfitableAppProfiles.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Welcome. I wrote this notebook as a guided project in the <a href="https://dataquest.io">Dataquest</a> Data Scientist in Python career path. The link to the course is below, though only subscribed users can access it.</p>
<p><a href="https://app.dataquest.io/m/350/guided-project%3A-profitable-app-profiles-for-the-app-store-and-google-play-markets/14/next-steps">Dataquest Guided Project</a></p>
<p>The hypothetical app company situation and project flow came from the course. However, all of the text and code themselves are written by me unless stated otherwise.</p>
<p>Originally, this notebook was intended for Python beginners who would use a list-of-lists for a dataset. However, I used <code>pandas</code> DataFrames and <code>matplotlib.pyplot</code> graphs because I already had some experience with them beforehand.</p>
<h1 id="Overview">
<a class="anchor" href="#Overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview<a class="anchor-link" href="#Overview"> </a>
</h1>
<p>In this project, we will be working on data about different types of apps and their corresponding number of users. The goal is to determine which apps can best attract the largest number of users.</p>
<p>This will help a hypothetical app company make decisions regarding what apps to develop in the near future. This app company only makes free apps directed toward an English-speaking audience. This information will be considered in the criteria.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Package-Installs">
<a class="anchor" href="#Package-Installs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Package Installs<a class="anchor-link" href="#Package-Installs"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># for fastpages</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">set_matplotlib_formats</span>
<span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">'png'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="App-Data-Overview">
<a class="anchor" href="#App-Data-Overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>App Data Overview<a class="anchor-link" href="#App-Data-Overview"> </a>
</h1>
<p>This project uses two datasets.</p>
<ul>
<li>The Google Play Store dataset lists over 10,000 Android apps.</li>
<li>The Apple App Store dataset lists over 7,000 iOS apps.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_apple</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"./2021-05-08-Files/AppleStore.csv"</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">data_google</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"./2021-05-08-Files/googleplaystore.csv"</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Apple-App-Store-dataset">
<a class="anchor" href="#Apple-App-Store-dataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Apple App Store dataset<a class="anchor-link" href="#Apple-App-Store-dataset"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">data_apple</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(7197, 16)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The dataset has 7197 rows (1 row per app), and 16 columns which describe these apps.</p>
<p>According to the Kaggle documentation (<a href="https://www.kaggle.com/ramamet4/app-store-apple-data-set-10k-apps">Mobile App Store ( 7200 apps)</a>), the following are the columns and their meanings.</p>
<ul>
<li>"id" : App ID</li>
<li>"track_name": App Name</li>
<li>"size_bytes": Size (in Bytes)</li>
<li>"currency": Currency Type</li>
<li>"price": Price amount</li>
<li>"ratingcounttot": User Rating counts (for all version)</li>
<li>"ratingcountver": User Rating counts (for current version)</li>
<li>"user_rating" : Average User Rating value (for all version)</li>
<li>"userratingver": Average User Rating value (for current version)</li>
<li>"ver" : Latest version code</li>
<li>"cont_rating": Content Rating</li>
<li>"prime_genre": Primary Genre</li>
<li>"sup_devices.num": Number of supporting devices</li>
<li>"ipadSc_urls.num": Number of screenshots showed for display</li>
<li>"lang.num": Number of supported languages</li>
<li>"vpp_lic": Vpp Device Based Licensing Enabled</li>
</ul>
<p>A sample of the first 5 rows of the dataset is shown below.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_apple</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>track_name</th>
      <th>size_bytes</th>
      <th>currency</th>
      <th>price</th>
      <th>rating_count_tot</th>
      <th>rating_count_ver</th>
      <th>user_rating</th>
      <th>user_rating_ver</th>
      <th>ver</th>
      <th>cont_rating</th>
      <th>prime_genre</th>
      <th>sup_devices.num</th>
      <th>ipadSc_urls.num</th>
      <th>lang.num</th>
      <th>vpp_lic</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>284882215</td>
      <td>Facebook</td>
      <td>389879808</td>
      <td>USD</td>
      <td>0.0</td>
      <td>2974676</td>
      <td>212</td>
      <td>3.5</td>
      <td>3.5</td>
      <td>95.0</td>
      <td>4+</td>
      <td>Social Networking</td>
      <td>37</td>
      <td>1</td>
      <td>29</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>389801252</td>
      <td>Instagram</td>
      <td>113954816</td>
      <td>USD</td>
      <td>0.0</td>
      <td>2161558</td>
      <td>1289</td>
      <td>4.5</td>
      <td>4.0</td>
      <td>10.23</td>
      <td>12+</td>
      <td>Photo &amp; Video</td>
      <td>37</td>
      <td>0</td>
      <td>29</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>529479190</td>
      <td>Clash of Clans</td>
      <td>116476928</td>
      <td>USD</td>
      <td>0.0</td>
      <td>2130805</td>
      <td>579</td>
      <td>4.5</td>
      <td>4.5</td>
      <td>9.24.12</td>
      <td>9+</td>
      <td>Games</td>
      <td>38</td>
      <td>5</td>
      <td>18</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>420009108</td>
      <td>Temple Run</td>
      <td>65921024</td>
      <td>USD</td>
      <td>0.0</td>
      <td>1724546</td>
      <td>3842</td>
      <td>4.5</td>
      <td>4.0</td>
      <td>1.6.2</td>
      <td>9+</td>
      <td>Games</td>
      <td>40</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>284035177</td>
      <td>Pandora - Music &amp; Radio</td>
      <td>130242560</td>
      <td>USD</td>
      <td>0.0</td>
      <td>1126879</td>
      <td>3594</td>
      <td>4.0</td>
      <td>4.5</td>
      <td>8.4.1</td>
      <td>12+</td>
      <td>Music</td>
      <td>37</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Google-Play-Store-dataset">
<a class="anchor" href="#Google-Play-Store-dataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Google Play Store dataset<a class="anchor-link" href="#Google-Play-Store-dataset"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">data_google</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(10841, 13)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The dataset has 10841 rows and 13 columns.</p>
<p>The column are self-explanatory, so the Kaggle documentation (<a href="https://www.kaggle.com/lava18/google-play-store-apps">Google Play Store Apps</a>) does not describe them.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">data_google</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>['App', 'Category', 'Rating', 'Reviews', 'Size', 'Installs', 'Type', 'Price', 'Content Rating', 'Genres', 'Last Updated', 'Current Ver', 'Android Ver']
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Below is a sample of the dataset.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_google</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>App</th>
      <th>Category</th>
      <th>Rating</th>
      <th>Reviews</th>
      <th>Size</th>
      <th>Installs</th>
      <th>Type</th>
      <th>Price</th>
      <th>Content Rating</th>
      <th>Genres</th>
      <th>Last Updated</th>
      <th>Current Ver</th>
      <th>Android Ver</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Photo Editor &amp; Candy Camera &amp; Grid &amp; ScrapBook</td>
      <td>ART_AND_DESIGN</td>
      <td>4.1</td>
      <td>159</td>
      <td>19M</td>
      <td>10,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>January 7, 2018</td>
      <td>1.0.0</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Coloring book moana</td>
      <td>ART_AND_DESIGN</td>
      <td>3.9</td>
      <td>967</td>
      <td>14M</td>
      <td>500,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design;Pretend Play</td>
      <td>January 15, 2018</td>
      <td>2.0.0</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>2</th>
      <td>U Launcher Lite – FREE Live Cool Themes, Hide ...</td>
      <td>ART_AND_DESIGN</td>
      <td>4.7</td>
      <td>87510</td>
      <td>8.7M</td>
      <td>5,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>August 1, 2018</td>
      <td>1.2.4</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sketch - Draw &amp; Paint</td>
      <td>ART_AND_DESIGN</td>
      <td>4.5</td>
      <td>215644</td>
      <td>25M</td>
      <td>50,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Teen</td>
      <td>Art &amp; Design</td>
      <td>June 8, 2018</td>
      <td>Varies with device</td>
      <td>4.2 and up</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pixel Draw - Number Art Coloring Book</td>
      <td>ART_AND_DESIGN</td>
      <td>4.3</td>
      <td>967</td>
      <td>2.8M</td>
      <td>100,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design;Creativity</td>
      <td>June 20, 2018</td>
      <td>1.1</td>
      <td>4.4 and up</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Data-Cleaning">
<a class="anchor" href="#Data-Cleaning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Cleaning<a class="anchor-link" href="#Data-Cleaning"> </a>
</h1>
<p>Before analysis, the data must first be cleaned of unwanted datapoints.</p>
<h2 id="Inaccurate-Data">
<a class="anchor" href="#Inaccurate-Data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inaccurate Data<a class="anchor-link" href="#Inaccurate-Data"> </a>
</h2>
<p><a href="https://www.kaggle.com/lava18/google-play-store-apps/discussion/164101">This Kaggle discussion</a> about the Google Play dataset indicates that row 10472 (excluding the header) has an error.</p>
<p>Below, I have printed row 0 and row 10472 so that these can be compared.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_google</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10472</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>App</th>
      <th>Category</th>
      <th>Rating</th>
      <th>Reviews</th>
      <th>Size</th>
      <th>Installs</th>
      <th>Type</th>
      <th>Price</th>
      <th>Content Rating</th>
      <th>Genres</th>
      <th>Last Updated</th>
      <th>Current Ver</th>
      <th>Android Ver</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Photo Editor &amp; Candy Camera &amp; Grid &amp; ScrapBook</td>
      <td>ART_AND_DESIGN</td>
      <td>4.1</td>
      <td>159</td>
      <td>19M</td>
      <td>10,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>January 7, 2018</td>
      <td>1.0.0</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>10472</th>
      <td>Life Made WI-Fi Touchscreen Photo Frame</td>
      <td>1.9</td>
      <td>19.0</td>
      <td>3.0M</td>
      <td>1,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>NaN</td>
      <td>February 11, 2018</td>
      <td>1.0.19</td>
      <td>4.0 and up</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we look at row 10472 in the context of the column headers and row 0, the following things become clear.</p>
<ul>
<li>The "Category" value is not present. Thus, all values to the right of it have been shifted leftward.</li>
<li>The "Android Ver" column was left with a missing value.</li>
</ul>
<p>Thus, this row will be removed.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># if the cell is run again.</span>
<span class="k">if</span> <span class="n">data_google</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10472</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Life Made WI-Fi Touchscreen Photo Frame'</span><span class="p">:</span>
    <span class="n">data_google</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="mi">10472</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"The inaccurate row was deleted."</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The inaccurate row was deleted.
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Duplicate-Data">
<a class="anchor" href="#Duplicate-Data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Duplicate Data<a class="anchor-link" href="#Duplicate-Data"> </a>
</h2>
<p>There are also duplicate app entries in the Google Play dataset. We can consider a row as a duplicates if another row exists that has the same "App" value.</p>
<p>Here, I count the total number of duplicate rows. This turns out to be 1979 rows.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">count_duplicates</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col_name</span><span class="p">):</span>
    
    <span class="sd">"""Count the number of duplicate rows in a DataFrame.</span>
<span class="sd">    `col_name` is the name of the column to be used as a basis</span>
<span class="sd">    for duplicate values."""</span>
    
    <span class="n">all_apps</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">col_name</span><span class="p">]</span>
        <span class="n">all_apps</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            
    <span class="n">duplicate_inds</span> <span class="o">=</span> <span class="p">[</span><span class="n">ind</span>
                      <span class="k">for</span> <span class="n">lst</span> <span class="ow">in</span> <span class="n">all_apps</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                      <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">lst</span>
                      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span>
    
    <span class="n">n_duplicates</span> <span class="o">=</span> <span class="s2">"Duplicates: </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">duplicate_inds</span><span class="p">))</span>
    <span class="n">duplicate_rows</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">duplicate_inds</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">n_duplicates</span><span class="p">,</span> <span class="n">duplicate_rows</span>
    
<span class="n">google_dupes</span> <span class="o">=</span> <span class="n">count_duplicates</span><span class="p">(</span><span class="n">data_google</span><span class="p">,</span> <span class="s2">"App"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">google_dupes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Duplicates: 1979
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As an example, there are 4 rows for Instagram:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ig_filter</span> <span class="o">=</span> <span class="n">data_google</span><span class="p">[</span><span class="s2">"App"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Instagram"</span>
<span class="n">ig_rows</span> <span class="o">=</span> <span class="n">data_google</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ig_filter</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ig_rows</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>App</th>
      <th>Category</th>
      <th>Rating</th>
      <th>Reviews</th>
      <th>Size</th>
      <th>Installs</th>
      <th>Type</th>
      <th>Price</th>
      <th>Content Rating</th>
      <th>Genres</th>
      <th>Last Updated</th>
      <th>Current Ver</th>
      <th>Android Ver</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2545</th>
      <td>Instagram</td>
      <td>SOCIAL</td>
      <td>4.5</td>
      <td>66577313</td>
      <td>Varies with device</td>
      <td>1,000,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Teen</td>
      <td>Social</td>
      <td>July 31, 2018</td>
      <td>Varies with device</td>
      <td>Varies with device</td>
    </tr>
    <tr>
      <th>2604</th>
      <td>Instagram</td>
      <td>SOCIAL</td>
      <td>4.5</td>
      <td>66577446</td>
      <td>Varies with device</td>
      <td>1,000,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Teen</td>
      <td>Social</td>
      <td>July 31, 2018</td>
      <td>Varies with device</td>
      <td>Varies with device</td>
    </tr>
    <tr>
      <th>2611</th>
      <td>Instagram</td>
      <td>SOCIAL</td>
      <td>4.5</td>
      <td>66577313</td>
      <td>Varies with device</td>
      <td>1,000,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Teen</td>
      <td>Social</td>
      <td>July 31, 2018</td>
      <td>Varies with device</td>
      <td>Varies with device</td>
    </tr>
    <tr>
      <th>3909</th>
      <td>Instagram</td>
      <td>SOCIAL</td>
      <td>4.5</td>
      <td>66509917</td>
      <td>Varies with device</td>
      <td>1,000,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Teen</td>
      <td>Social</td>
      <td>July 31, 2018</td>
      <td>Varies with device</td>
      <td>Varies with device</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Looking closely, we can see that duplicate rows are not exactly identical. The "Reviews" column, which shows the total number of reviews of the app, has different values.</p>
<p>It can be inferred that the row with the largest value is the newest entry for the app. Therefore, all duplicate rows will be dropped except for the ones with the largest "Reviews" values.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_duplicates</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">name_col</span><span class="p">,</span> <span class="n">reviews_col</span><span class="p">):</span>

    <span class="c1"># Each key-value pair will follow the format:</span>
    <span class="c1"># {"App Name": maximum number of reviews among all duplicates}</span>
    <span class="n">reviews_max</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">name_col</span><span class="p">]</span>
        <span class="n">n_reviews</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">reviews_col</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">n_reviews</span> <span class="o">&gt;</span> <span class="n">reviews_max</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">reviews_max</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">n_reviews</span>

    <span class="c1"># List of duplicate indices to drop,</span>
    <span class="c1"># excluding the row with the highest number of reviews</span>
    <span class="c1"># among that app's duplicate rows.</span>
    <span class="n">indices_to_drop</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Rows with names that have already been added into this list</span>
    <span class="c1"># will be dropped.</span>
    <span class="n">already_added</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">name_col</span><span class="p">]</span>
        <span class="n">n_reviews</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">reviews_col</span><span class="p">])</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">already_added</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">n_reviews</span> <span class="o">==</span> <span class="n">reviews_max</span><span class="p">[</span><span class="n">name</span><span class="p">]):</span>
            <span class="n">already_added</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">indices_to_drop</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

    <span class="c1"># Remove duplicates and return the clean dataset.</span>
    <span class="n">clean</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">indices_to_drop</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clean</span>

<span class="n">android_clean</span> <span class="o">=</span> <span class="n">remove_duplicates</span><span class="p">(</span><span class="n">data_google</span><span class="p">,</span> <span class="s2">"App"</span><span class="p">,</span> <span class="s2">"Reviews"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">android_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(9659, 13)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After duplicates were removed, the Google Play dataset was left with 9659 rows.</p>
<p>As for the Apple App Store dataset, there are 4 duplicate rows.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">apple_dupes</span> <span class="o">=</span> <span class="n">count_duplicates</span><span class="p">(</span><span class="n">data_apple</span><span class="p">,</span> <span class="s2">"track_name"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">apple_dupes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">apple_dupes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Duplicates: 4
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>track_name</th>
      <th>size_bytes</th>
      <th>currency</th>
      <th>price</th>
      <th>rating_count_tot</th>
      <th>rating_count_ver</th>
      <th>user_rating</th>
      <th>user_rating_ver</th>
      <th>ver</th>
      <th>cont_rating</th>
      <th>prime_genre</th>
      <th>sup_devices.num</th>
      <th>ipadSc_urls.num</th>
      <th>lang.num</th>
      <th>vpp_lic</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2948</th>
      <td>1173990889</td>
      <td>Mannequin Challenge</td>
      <td>109705216</td>
      <td>USD</td>
      <td>0.0</td>
      <td>668</td>
      <td>87</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>9+</td>
      <td>Games</td>
      <td>37</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4463</th>
      <td>1178454060</td>
      <td>Mannequin Challenge</td>
      <td>59572224</td>
      <td>USD</td>
      <td>0.0</td>
      <td>105</td>
      <td>58</td>
      <td>4.0</td>
      <td>4.5</td>
      <td>1.0.1</td>
      <td>4+</td>
      <td>Games</td>
      <td>38</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4442</th>
      <td>952877179</td>
      <td>VR Roller Coaster</td>
      <td>169523200</td>
      <td>USD</td>
      <td>0.0</td>
      <td>107</td>
      <td>102</td>
      <td>3.5</td>
      <td>3.5</td>
      <td>2.0.0</td>
      <td>4+</td>
      <td>Games</td>
      <td>37</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4831</th>
      <td>1089824278</td>
      <td>VR Roller Coaster</td>
      <td>240964608</td>
      <td>USD</td>
      <td>0.0</td>
      <td>67</td>
      <td>44</td>
      <td>3.5</td>
      <td>4.0</td>
      <td>0.81</td>
      <td>4+</td>
      <td>Games</td>
      <td>38</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The "rating_count_tot" column in the Apple App Store dataset is like the "Reviews" column in the Google Play dataset. It tells the total number of reviews so far. Therefore, Apple App Store dataset duplicates can be removed by keeping the rows with the highest rating count totals.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ios_clean</span> <span class="o">=</span> <span class="n">remove_duplicates</span><span class="p">(</span><span class="n">data_apple</span><span class="p">,</span> <span class="s2">"track_name"</span><span class="p">,</span> <span class="s2">"rating_count_tot"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ios_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(7195, 16)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From 7197 rows, there are now 7195 rows in the Apple App Store dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Non-English-Apps">
<a class="anchor" href="#Non-English-Apps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Non-English Apps<a class="anchor-link" href="#Non-English-Apps"> </a>
</h2>
<p>The hypothetical app company who will use this analysis is a company that only makes apps in English. Thus, all apps with non-English titles shall be removed from the datasets.</p>
<p>The task now is to identify titles which are not in English. It is known that in the <a href="https://theasciicode.com.ar/">ASCII table</a>, the characters most commonly used in English are within codes 0 to 127. Some English app titles may have special characters or emojis, though, so I will only remove titles which have more than 3 characters outside of the normal range.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_english</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">unicode</span> <span class="o">=</span> <span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="p">]</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="p">[(</span><span class="n">code</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">code</span> <span class="o">&lt;=</span> <span class="mi">127</span><span class="p">)</span> <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">unicode</span><span class="p">]</span>
    <span class="n">non_english</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">non_english</span> <span class="o">&lt;=</span> <span class="mi">3</span>

<span class="k">def</span> <span class="nf">keep_english</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">name_col</span><span class="p">):</span>
    
    <span class="sd">"""Return a new DataFrame containing only rows with English names."""</span>
    
    <span class="n">remove_indices</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">name_col</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_english</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="n">remove_indices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">remove_indices</span><span class="p">)</span>

<span class="n">android_clean</span> <span class="o">=</span> <span class="n">keep_english</span><span class="p">(</span><span class="n">android_clean</span><span class="p">,</span> <span class="s2">"App"</span><span class="p">)</span>
<span class="n">ios_clean</span> <span class="o">=</span> <span class="n">keep_english</span><span class="p">(</span><span class="n">ios_clean</span><span class="p">,</span> <span class="s2">"track_name"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Google Play Store Dataset:"</span><span class="p">,</span> <span class="n">android_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Apple App Store Dataset:"</span><span class="p">,</span> <span class="n">ios_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Google Play Store Dataset: (9614, 13)
Apple App Store Dataset: (6181, 16)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, there are only English apps in both datasets.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Paid-Apps">
<a class="anchor" href="#Paid-Apps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Paid Apps<a class="anchor-link" href="#Paid-Apps"> </a>
</h2>
<p>As mentioned earlier, the app company only makes free apps. Therefore, data on paid apps is irrelevant to this analysis. Paid apps shall be identified and removed from both datasets.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_paid</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">price_col</span><span class="p">):</span>
    
    <span class="sd">"""Return a new DataFrame without paid apps."""</span>
    
    <span class="n">remove_indices</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">price</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">price_col</span><span class="p">])</span>
        
        <span class="c1"># Keep characters that are numeric or periods.</span>
        <span class="n">price</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">"[^0-9.]"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="n">price</span><span class="p">))</span>
        
        <span class="k">if</span> <span class="n">price</span> <span class="o">!=</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">remove_indices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">remove_indices</span><span class="p">)</span>
        
<span class="n">android_clean</span> <span class="o">=</span> <span class="n">remove_paid</span><span class="p">(</span><span class="n">android_clean</span><span class="p">,</span> <span class="s2">"Price"</span><span class="p">)</span>
<span class="n">ios_clean</span> <span class="o">=</span> <span class="n">remove_paid</span><span class="p">(</span><span class="n">ios_clean</span><span class="p">,</span> <span class="s2">"price"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Google Play Store Dataset:"</span><span class="p">,</span> <span class="n">android_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Apple App Store Dataset:"</span><span class="p">,</span> <span class="n">ios_clean</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Google Play Store Dataset: (8864, 13)
Apple App Store Dataset: (3220, 16)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that the datasets have been cleaned, we can proceed with our main objective, which is to determine a profitable app profile.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="App-Company's-Context">
<a class="anchor" href="#App-Company's-Context" aria-hidden="true"><span class="octicon octicon-link"></span></a>App Company's Context<a class="anchor-link" href="#App-Company's-Context"> </a>
</h1>
<p>​
Before thinking of an app profile, we must know the context of the app company so that we can align our analysis with it.
​
Since they only develop free apps, they get revenue from in-app advertisements. Thus, they rely on having a large number of users so that they can generate more revenue.
​
An app should ideally also be successful on both Google Play Store and the Apple App Store. The reason is that the (hypothetical) company has the following 3-step validation strategy:</p>
<p><em>(from the Dataquest guided project)</em></p>
<blockquote>
<ol>
<li>Build a minimal Android version of the app, and add it to Google Play.</li>
<li>If the app has a good response from users, we develop it further.</li>
<li>If the app is profitable after six months, we build an iOS version of the app and add it to the App Store.
​
# Common App Genres
​
With these criteria in mind, the first step would be to find out which genres of apps are most common in both app markets. If an app genre is common, then there may be high demand for it among users.
​
Let us now look at the column headers for both datasets to see which columns can give information about genres.</li>
</ol>
</blockquote>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"Google Play Store"</span><span class="p">)</span>
<span class="n">android_clean</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Google Play Store
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>App</th>
      <th>Category</th>
      <th>Rating</th>
      <th>Reviews</th>
      <th>Size</th>
      <th>Installs</th>
      <th>Type</th>
      <th>Price</th>
      <th>Content Rating</th>
      <th>Genres</th>
      <th>Last Updated</th>
      <th>Current Ver</th>
      <th>Android Ver</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Photo Editor &amp; Candy Camera &amp; Grid &amp; ScrapBook</td>
      <td>ART_AND_DESIGN</td>
      <td>4.1</td>
      <td>159</td>
      <td>19M</td>
      <td>10,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>January 7, 2018</td>
      <td>1.0.0</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>2</th>
      <td>U Launcher Lite – FREE Live Cool Themes, Hide ...</td>
      <td>ART_AND_DESIGN</td>
      <td>4.7</td>
      <td>87510</td>
      <td>8.7M</td>
      <td>5,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>August 1, 2018</td>
      <td>1.2.4</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sketch - Draw &amp; Paint</td>
      <td>ART_AND_DESIGN</td>
      <td>4.5</td>
      <td>215644</td>
      <td>25M</td>
      <td>50,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Teen</td>
      <td>Art &amp; Design</td>
      <td>June 8, 2018</td>
      <td>Varies with device</td>
      <td>4.2 and up</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pixel Draw - Number Art Coloring Book</td>
      <td>ART_AND_DESIGN</td>
      <td>4.3</td>
      <td>967</td>
      <td>2.8M</td>
      <td>100,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design;Creativity</td>
      <td>June 20, 2018</td>
      <td>1.1</td>
      <td>4.4 and up</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Paper flowers instructions</td>
      <td>ART_AND_DESIGN</td>
      <td>4.4</td>
      <td>167</td>
      <td>5.6M</td>
      <td>50,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>March 26, 2017</td>
      <td>1.0</td>
      <td>2.3 and up</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Apple App Store"</span><span class="p">)</span>
<span class="n">ios_clean</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
Apple App Store
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>track_name</th>
      <th>size_bytes</th>
      <th>currency</th>
      <th>price</th>
      <th>rating_count_tot</th>
      <th>rating_count_ver</th>
      <th>user_rating</th>
      <th>user_rating_ver</th>
      <th>ver</th>
      <th>cont_rating</th>
      <th>prime_genre</th>
      <th>sup_devices.num</th>
      <th>ipadSc_urls.num</th>
      <th>lang.num</th>
      <th>vpp_lic</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>284882215</td>
      <td>Facebook</td>
      <td>389879808</td>
      <td>USD</td>
      <td>0.0</td>
      <td>2974676</td>
      <td>212</td>
      <td>3.5</td>
      <td>3.5</td>
      <td>95.0</td>
      <td>4+</td>
      <td>Social Networking</td>
      <td>37</td>
      <td>1</td>
      <td>29</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>389801252</td>
      <td>Instagram</td>
      <td>113954816</td>
      <td>USD</td>
      <td>0.0</td>
      <td>2161558</td>
      <td>1289</td>
      <td>4.5</td>
      <td>4.0</td>
      <td>10.23</td>
      <td>12+</td>
      <td>Photo &amp; Video</td>
      <td>37</td>
      <td>0</td>
      <td>29</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>529479190</td>
      <td>Clash of Clans</td>
      <td>116476928</td>
      <td>USD</td>
      <td>0.0</td>
      <td>2130805</td>
      <td>579</td>
      <td>4.5</td>
      <td>4.5</td>
      <td>9.24.12</td>
      <td>9+</td>
      <td>Games</td>
      <td>38</td>
      <td>5</td>
      <td>18</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>420009108</td>
      <td>Temple Run</td>
      <td>65921024</td>
      <td>USD</td>
      <td>0.0</td>
      <td>1724546</td>
      <td>3842</td>
      <td>4.5</td>
      <td>4.0</td>
      <td>1.6.2</td>
      <td>9+</td>
      <td>Games</td>
      <td>40</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>284035177</td>
      <td>Pandora - Music &amp; Radio</td>
      <td>130242560</td>
      <td>USD</td>
      <td>0.0</td>
      <td>1126879</td>
      <td>3594</td>
      <td>4.0</td>
      <td>4.5</td>
      <td>8.4.1</td>
      <td>12+</td>
      <td>Music</td>
      <td>37</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For Google Play, some columns that seem relevant are "Category" and "Genres". For the Apple App Store, the relevant column is "prime_genre".</p>
<p>We can determine the most common genres by using frequency tables of the mentioned columns.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">freq_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
    <span class="sd">"""Return a frequency table of the values in a column of a DataFrame."""</span>
    <span class="n">col</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">label</span><span class="p">]</span>
    <span class="n">freq</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">col</span><span class="p">:</span>
        <span class="n">freq</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">freq</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">freq</span><span class="p">:</span>
        <span class="n">freq</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span>
        
    <span class="n">freq_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">freq_series</span>

<span class="k">def</span> <span class="nf">sr_to_df</span><span class="p">(</span><span class="n">sr</span><span class="p">,</span> <span class="n">col_name</span> <span class="o">=</span> <span class="s2">"number"</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""Return a DataFrame by resetting the index of a Series."""</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">sr</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">col_name</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">n_head</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_head</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">df</span>

<span class="n">google_categories</span> <span class="o">=</span> <span class="n">freq_table</span><span class="p">(</span><span class="n">android_clean</span><span class="p">,</span> <span class="s2">"Category"</span><span class="p">)</span>
<span class="n">google_genres</span> <span class="o">=</span> <span class="n">freq_table</span><span class="p">(</span><span class="n">android_clean</span><span class="p">,</span> <span class="s2">"Genres"</span><span class="p">)</span>
<span class="n">apple_genres</span> <span class="o">=</span> <span class="n">freq_table</span><span class="p">(</span><span class="n">ios_clean</span><span class="p">,</span> <span class="s2">"prime_genre"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The frequency tables will be inspected in the sections below. Only the top positions in each table will be shown, for brevity.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Apple-App-Store:-Prime-Genres">
<a class="anchor" href="#Apple-App-Store:-Prime-Genres" aria-hidden="true"><span class="octicon octicon-link"></span></a>Apple App Store: Prime Genres<a class="anchor-link" href="#Apple-App-Store:-Prime-Genres"> </a>
</h2>
<p>First, the frequency table of Apple App Store prime genres shall be analyzed. Below, I have ordered the table by frequency, descending. I have also made bar graphs.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>

<span class="k">def</span> <span class="nf">bar_n</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">chart_title</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">shorten</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">"number"</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"number"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s2">"number"</span><span class="p">]]</span>
    
    <span class="c1">#df = df[:n]</span>

    <span class="n">bar</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">"index"</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">"Name"</span><span class="p">,</span> <span class="n">sort</span> <span class="o">=</span> <span class="s2">"-y"</span><span class="p">),</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">"number"</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="n">ylabel</span><span class="p">),</span>
    <span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">chart_title</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="n">text</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span>
        <span class="n">align</span> <span class="o">=</span> <span class="s1">'center'</span><span class="p">,</span>
        <span class="n">baseline</span> <span class="o">=</span> <span class="s1">'middle'</span><span class="p">,</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="c1"># Nudge text</span>
    <span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">'number:Q'</span>
    <span class="p">)</span>
    
    <span class="n">chart</span> <span class="o">=</span> <span class="p">(</span><span class="n">bar</span> <span class="o">+</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
        <span class="n">width</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
        <span class="n">height</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
    <span class="p">)</span>
    
    
    
    <span class="k">return</span> <span class="n">chart</span>

<span class="c1">#     """Takes a Pandas Series.</span>
<span class="c1">#     Shows a Pyplot bar graph of the first n values.</span>
<span class="c1">#     Uses the series indices as the tick labels.</span>
<span class="c1">#     Specify the title and ylabel."""</span>
    
<span class="c1">#     ticks = list(series[:n].index)</span>
<span class="c1">#     if shorten:</span>
<span class="c1">#         ticks = [text[:8] + "..." for text in ticks]</span>
    
<span class="c1">#     fig, ax = plt.subplots(figsize=(2 + n, 5))</span>
<span class="c1">#     ax.bar(</span>
<span class="c1">#         x = range(n),</span>
<span class="c1">#         height = series[:n],</span>
<span class="c1">#         tick_label = ticks,)</span>

<span class="c1">#     ax.set_title(title)</span>
<span class="c1">#     ax.set_xlabel("Type")</span>
<span class="c1">#     ax.set_ylabel(ylabel)</span>
<span class="c1">#     ax.grid(True)</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">apple_genres</span><span class="p">,</span> <span class="s2">"percentage"</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Games</td>
      <td>58.136646</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Entertainment</td>
      <td>7.888199</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Photo &amp; Video</td>
      <td>4.968944</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Education</td>
      <td>3.664596</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Social Networking</td>
      <td>3.291925</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">apple_genres</span><span class="p">,</span>
    <span class="s2">"Most Common Prime Genres of iOS Apps"</span><span class="p">,</span>
    <span class="s2">"Percentage of Apps"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-5c6b71fa6d6846989f03330093992e22"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-5c6b71fa6d6846989f03330093992e22") {
      outputDiv = document.getElementById("altair-viz-5c6b71fa6d6846989f03330093992e22");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Percentage of Apps"}}, "title": "Most Common Prime Genres of iOS Apps"}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "dy": -5}, "encoding": {"text": {"type": "quantitative", "field": "number"}, "x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Percentage of Apps"}}, "title": "Most Common Prime Genres of iOS Apps"}], "data": {"name": "data-7e2ebb242752687a24f3c8aa4580ac9f"}, "height": 400, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-7e2ebb242752687a24f3c8aa4580ac9f": [{"index": "Games", "number": 58.14}, {"index": "Entertainment", "number": 7.89}, {"index": "Photo & Video", "number": 4.97}, {"index": "Education", "number": 3.66}, {"index": "Social Networking", "number": 3.29}, {"index": "Shopping", "number": 2.61}, {"index": "Utilities", "number": 2.52}, {"index": "Sports", "number": 2.14}, {"index": "Music", "number": 2.05}, {"index": "Health & Fitness", "number": 2.02}, {"index": "Productivity", "number": 1.74}, {"index": "Lifestyle", "number": 1.58}, {"index": "News", "number": 1.34}, {"index": "Travel", "number": 1.24}, {"index": "Finance", "number": 1.12}, {"index": "Weather", "number": 0.87}, {"index": "Food & Drink", "number": 0.81}, {"index": "Reference", "number": 0.56}, {"index": "Business", "number": 0.53}, {"index": "Book", "number": 0.43}, {"index": "Navigation", "number": 0.19}, {"index": "Medical", "number": 0.19}, {"index": "Catalogs", "number": 0.12}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The top 5 most common prime genres in the Apple App Store are Games, Entertainment, Photo &amp; Video, Education, and Social Networking. Games are at the top, occupying over 58% of all apps. This is a much higher percentage than any other single genre occupies.</p>
<p>The general impression is that there are many more apps in entertainment-related genres compared to practical genres.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Google-Play-Store:-Categories">
<a class="anchor" href="#Google-Play-Store:-Categories" aria-hidden="true"><span class="octicon octicon-link"></span></a>Google Play Store: Categories<a class="anchor-link" href="#Google-Play-Store:-Categories"> </a>
</h2>
<p>Next, below is the frequency table for Google Play Store app categories.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sr_to_df</span><span class="p">(</span><span class="n">google_categories</span><span class="p">,</span> <span class="s2">"percentage"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>FAMILY</td>
      <td>18.907942</td>
    </tr>
    <tr>
      <th>1</th>
      <td>GAME</td>
      <td>9.724729</td>
    </tr>
    <tr>
      <th>2</th>
      <td>TOOLS</td>
      <td>8.461191</td>
    </tr>
    <tr>
      <th>3</th>
      <td>BUSINESS</td>
      <td>4.591606</td>
    </tr>
    <tr>
      <th>4</th>
      <td>LIFESTYLE</td>
      <td>3.903430</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">google_categories</span><span class="p">,</span>
    <span class="s2">"Most Common Categories of Android Apps"</span><span class="p">,</span>
    <span class="s2">"Percentage of Apps"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-ffc0079dc3ed43ebb9d2d96b9269c074"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-ffc0079dc3ed43ebb9d2d96b9269c074") {
      outputDiv = document.getElementById("altair-viz-ffc0079dc3ed43ebb9d2d96b9269c074");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Percentage of Apps"}}, "title": "Most Common Categories of Android Apps"}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "dy": -5}, "encoding": {"text": {"type": "quantitative", "field": "number"}, "x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Percentage of Apps"}}, "title": "Most Common Categories of Android Apps"}], "data": {"name": "data-77a0e1fd93d390caf4bdfd1717dd1a35"}, "height": 400, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-77a0e1fd93d390caf4bdfd1717dd1a35": [{"index": "FAMILY", "number": 18.91}, {"index": "GAME", "number": 9.72}, {"index": "TOOLS", "number": 8.46}, {"index": "BUSINESS", "number": 4.59}, {"index": "LIFESTYLE", "number": 3.9}, {"index": "PRODUCTIVITY", "number": 3.89}, {"index": "FINANCE", "number": 3.7}, {"index": "MEDICAL", "number": 3.53}, {"index": "SPORTS", "number": 3.4}, {"index": "PERSONALIZATION", "number": 3.32}, {"index": "COMMUNICATION", "number": 3.24}, {"index": "HEALTH_AND_FITNESS", "number": 3.08}, {"index": "PHOTOGRAPHY", "number": 2.94}, {"index": "NEWS_AND_MAGAZINES", "number": 2.8}, {"index": "SOCIAL", "number": 2.66}, {"index": "TRAVEL_AND_LOCAL", "number": 2.34}, {"index": "SHOPPING", "number": 2.25}, {"index": "BOOKS_AND_REFERENCE", "number": 2.14}, {"index": "DATING", "number": 1.86}, {"index": "VIDEO_PLAYERS", "number": 1.79}, {"index": "MAPS_AND_NAVIGATION", "number": 1.4}, {"index": "FOOD_AND_DRINK", "number": 1.24}, {"index": "EDUCATION", "number": 1.16}, {"index": "ENTERTAINMENT", "number": 0.96}, {"index": "LIBRARIES_AND_DEMO", "number": 0.94}, {"index": "AUTO_AND_VEHICLES", "number": 0.93}, {"index": "HOUSE_AND_HOME", "number": 0.82}, {"index": "WEATHER", "number": 0.8}, {"index": "EVENTS", "number": 0.71}, {"index": "PARENTING", "number": 0.65}, {"index": "ART_AND_DESIGN", "number": 0.64}, {"index": "COMICS", "number": 0.62}, {"index": "BEAUTY", "number": 0.6}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The picture here seems to be different. The most common category is Family occupying almost 19% of all apps, followed by Game, Tools, Business, and Lifestyle.</p>
<p>Generally, the table suggests that practical app categories are more common in Google Play than in the Apple App Store.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Google-Play-Store:-Genres">
<a class="anchor" href="#Google-Play-Store:-Genres" aria-hidden="true"><span class="octicon octicon-link"></span></a>Google Play Store: Genres<a class="anchor-link" href="#Google-Play-Store:-Genres"> </a>
</h2>
<p>Lastly, below is the frequency table for Google Play Store app genres.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sr_to_df</span><span class="p">(</span><span class="n">google_genres</span><span class="p">,</span> <span class="s2">"percentage"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tools</td>
      <td>8.449910</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Entertainment</td>
      <td>6.069495</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Education</td>
      <td>5.347473</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Business</td>
      <td>4.591606</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Productivity</td>
      <td>3.892148</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">google_genres</span><span class="p">,</span>
    <span class="s2">"Top 5 Most Common Genre Combinations of Android Apps"</span><span class="p">,</span>
    <span class="s2">"Percentage of Apps"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-c22962166f6e425aa9701909600bb7aa"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c22962166f6e425aa9701909600bb7aa") {
      outputDiv = document.getElementById("altair-viz-c22962166f6e425aa9701909600bb7aa");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Percentage of Apps"}}, "title": "Top 5 Most Common Genre Combinations of Android Apps"}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "dy": -5}, "encoding": {"text": {"type": "quantitative", "field": "number"}, "x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Percentage of Apps"}}, "title": "Top 5 Most Common Genre Combinations of Android Apps"}], "data": {"name": "data-c7694f42d1e60a5136bacaf9d2a798e1"}, "height": 400, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-c7694f42d1e60a5136bacaf9d2a798e1": [{"index": "Tools", "number": 8.45}, {"index": "Entertainment", "number": 6.07}, {"index": "Education", "number": 5.35}, {"index": "Business", "number": 4.59}, {"index": "Productivity", "number": 3.89}, {"index": "Lifestyle", "number": 3.89}, {"index": "Finance", "number": 3.7}, {"index": "Medical", "number": 3.53}, {"index": "Sports", "number": 3.46}, {"index": "Personalization", "number": 3.32}, {"index": "Communication", "number": 3.24}, {"index": "Action", "number": 3.1}, {"index": "Health & Fitness", "number": 3.08}, {"index": "Photography", "number": 2.94}, {"index": "News & Magazines", "number": 2.8}, {"index": "Social", "number": 2.66}, {"index": "Travel & Local", "number": 2.32}, {"index": "Shopping", "number": 2.25}, {"index": "Books & Reference", "number": 2.14}, {"index": "Simulation", "number": 2.04}, {"index": "Dating", "number": 1.86}, {"index": "Arcade", "number": 1.85}, {"index": "Video Players & Editors", "number": 1.77}, {"index": "Casual", "number": 1.76}, {"index": "Maps & Navigation", "number": 1.4}, {"index": "Food & Drink", "number": 1.24}, {"index": "Puzzle", "number": 1.13}, {"index": "Racing", "number": 0.99}, {"index": "Libraries & Demo", "number": 0.94}, {"index": "Role Playing", "number": 0.94}, {"index": "Auto & Vehicles", "number": 0.93}, {"index": "Strategy", "number": 0.91}, {"index": "House & Home", "number": 0.82}, {"index": "Weather", "number": 0.8}, {"index": "Events", "number": 0.71}, {"index": "Adventure", "number": 0.68}, {"index": "Comics", "number": 0.61}, {"index": "Beauty", "number": 0.6}, {"index": "Art & Design", "number": 0.6}, {"index": "Parenting", "number": 0.5}, {"index": "Card", "number": 0.45}, {"index": "Casino", "number": 0.43}, {"index": "Trivia", "number": 0.42}, {"index": "Educational;Education", "number": 0.39}, {"index": "Board", "number": 0.38}, {"index": "Educational", "number": 0.37}, {"index": "Education;Education", "number": 0.34}, {"index": "Word", "number": 0.26}, {"index": "Casual;Pretend Play", "number": 0.24}, {"index": "Music", "number": 0.2}, {"index": "Puzzle;Brain Games", "number": 0.17}, {"index": "Racing;Action & Adventure", "number": 0.17}, {"index": "Entertainment;Music & Video", "number": 0.17}, {"index": "Casual;Action & Adventure", "number": 0.14}, {"index": "Casual;Brain Games", "number": 0.14}, {"index": "Arcade;Action & Adventure", "number": 0.12}, {"index": "Action;Action & Adventure", "number": 0.1}, {"index": "Educational;Pretend Play", "number": 0.09}, {"index": "Board;Brain Games", "number": 0.08}, {"index": "Entertainment;Brain Games", "number": 0.08}, {"index": "Simulation;Action & Adventure", "number": 0.08}, {"index": "Parenting;Education", "number": 0.08}, {"index": "Casual;Creativity", "number": 0.07}, {"index": "Art & Design;Creativity", "number": 0.07}, {"index": "Parenting;Music & Video", "number": 0.07}, {"index": "Educational;Brain Games", "number": 0.07}, {"index": "Education;Pretend Play", "number": 0.06}, {"index": "Education;Creativity", "number": 0.05}, {"index": "Role Playing;Pretend Play", "number": 0.05}, {"index": "Education;Music & Video", "number": 0.03}, {"index": "Adventure;Action & Adventure", "number": 0.03}, {"index": "Educational;Action & Adventure", "number": 0.03}, {"index": "Entertainment;Creativity", "number": 0.03}, {"index": "Role Playing;Action & Adventure", "number": 0.03}, {"index": "Education;Action & Adventure", "number": 0.03}, {"index": "Puzzle;Action & Adventure", "number": 0.03}, {"index": "Educational;Creativity", "number": 0.03}, {"index": "Education;Brain Games", "number": 0.03}, {"index": "Entertainment;Action & Adventure", "number": 0.03}, {"index": "Puzzle;Creativity", "number": 0.02}, {"index": "Music;Music & Video", "number": 0.02}, {"index": "Video Players & Editors;Music & Video", "number": 0.02}, {"index": "Simulation;Pretend Play", "number": 0.02}, {"index": "Sports;Action & Adventure", "number": 0.02}, {"index": "Entertainment;Pretend Play", "number": 0.02}, {"index": "Board;Action & Adventure", "number": 0.02}, {"index": "Casual;Education", "number": 0.02}, {"index": "Books & Reference;Education", "number": 0.01}, {"index": "Lifestyle;Education", "number": 0.01}, {"index": "Trivia;Education", "number": 0.01}, {"index": "Card;Action & Adventure", "number": 0.01}, {"index": "Music & Audio;Music & Video", "number": 0.01}, {"index": "Simulation;Education", "number": 0.01}, {"index": "Puzzle;Education", "number": 0.01}, {"index": "Adventure;Education", "number": 0.01}, {"index": "Role Playing;Brain Games", "number": 0.01}, {"index": "Strategy;Education", "number": 0.01}, {"index": "Racing;Pretend Play", "number": 0.01}, {"index": "Communication;Creativity", "number": 0.01}, {"index": "Comics;Creativity", "number": 0.01}, {"index": "Parenting;Brain Games", "number": 0.01}, {"index": "Health & Fitness;Action & Adventure", "number": 0.01}, {"index": "Lifestyle;Pretend Play", "number": 0.01}, {"index": "Video Players & Editors;Creativity", "number": 0.01}, {"index": "Art & Design;Pretend Play", "number": 0.01}, {"index": "Health & Fitness;Education", "number": 0.01}, {"index": "Entertainment;Education", "number": 0.01}, {"index": "Arcade;Pretend Play", "number": 0.01}, {"index": "Tools;Education", "number": 0.01}, {"index": "Travel & Local;Action & Adventure", "number": 0.01}, {"index": "Art & Design;Action & Adventure", "number": 0.01}, {"index": "Casual;Music & Video", "number": 0.01}, {"index": "Strategy;Action & Adventure", "number": 0.01}, {"index": "Strategy;Creativity", "number": 0.01}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are 114 genres in this table, so it is not fully displayed. However, it would appear that the top genres are Tools (8%), Entertainment, Education, Business, and Lifestyle. Like with the categories, practical apps are very common.</p>
<p>However, I noticed something special about this frequency table. Some genres are actually combinations of multiple genres, separated by semi-colons. If I can extract and count individual genres from these combined genres, then I can get a more accurate idea of app genres in the Google Play Store.</p>
<p>Note that this frequency table will show numbers instead of percentages, because some apps have multiple genres. The percentages would not add up to 100%.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">freq</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">android_clean</span><span class="p">[</span><span class="s2">"Genres"</span><span class="p">]:</span>
    <span class="n">genres</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">";"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">genres</span><span class="p">:</span>
        <span class="n">freq</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">genre</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">freq</span><span class="p">[</span><span class="n">genre</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">google_genres_split</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">google_genres_split</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tools</td>
      <td>750</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Education</td>
      <td>606</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Entertainment</td>
      <td>569</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Business</td>
      <td>407</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Lifestyle</td>
      <td>347</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">google_genres_split</span><span class="p">,</span>
    <span class="s2">"Top 5 Most Common Single Genres of Android Apps"</span><span class="p">,</span>
    <span class="s2">"Number of Apps"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-4fbaa2a96c814d77939334339dbc3a0f"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-4fbaa2a96c814d77939334339dbc3a0f") {
      outputDiv = document.getElementById("altair-viz-4fbaa2a96c814d77939334339dbc3a0f");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Number of Apps"}}, "title": "Top 5 Most Common Single Genres of Android Apps"}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "dy": -5}, "encoding": {"text": {"type": "quantitative", "field": "number"}, "x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Number of Apps"}}, "title": "Top 5 Most Common Single Genres of Android Apps"}], "data": {"name": "data-4df86b9adf83767c48cb961e9a91afd5"}, "height": 400, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-4df86b9adf83767c48cb961e9a91afd5": [{"index": "Tools", "number": 750}, {"index": "Education", "number": 606}, {"index": "Entertainment", "number": 569}, {"index": "Business", "number": 407}, {"index": "Lifestyle", "number": 347}, {"index": "Productivity", "number": 345}, {"index": "Finance", "number": 328}, {"index": "Medical", "number": 313}, {"index": "Sports", "number": 309}, {"index": "Personalization", "number": 294}, {"index": "Communication", "number": 288}, {"index": "Action", "number": 284}, {"index": "Health & Fitness", "number": 275}, {"index": "Photography", "number": 261}, {"index": "News & Magazines", "number": 248}, {"index": "Social", "number": 236}, {"index": "Casual", "number": 210}, {"index": "Travel & Local", "number": 207}, {"index": "Shopping", "number": 199}, {"index": "Books & Reference", "number": 191}, {"index": "Simulation", "number": 191}, {"index": "Arcade", "number": 176}, {"index": "Dating", "number": 165}, {"index": "Video Players & Editors", "number": 160}, {"index": "Maps & Navigation", "number": 124}, {"index": "Puzzle", "number": 121}, {"index": "Food & Drink", "number": 110}, {"index": "Racing", "number": 104}, {"index": "Role Playing", "number": 91}, {"index": "Educational", "number": 88}, {"index": "Strategy", "number": 84}, {"index": "Libraries & Demo", "number": 83}, {"index": "Auto & Vehicles", "number": 82}, {"index": "Action & Adventure", "number": 81}, {"index": "House & Home", "number": 73}, {"index": "Weather", "number": 71}, {"index": "Adventure", "number": 64}, {"index": "Events", "number": 63}, {"index": "Art & Design", "number": 61}, {"index": "Parenting", "number": 58}, {"index": "Comics", "number": 55}, {"index": "Beauty", "number": 53}, {"index": "Brain Games", "number": 52}, {"index": "Pretend Play", "number": 46}, {"index": "Board", "number": 43}, {"index": "Card", "number": 41}, {"index": "Trivia", "number": 38}, {"index": "Casino", "number": 38}, {"index": "Music & Video", "number": 30}, {"index": "Creativity", "number": 28}, {"index": "Word", "number": 23}, {"index": "Music", "number": 20}, {"index": "Music & Audio", "number": 1}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It can be seen that the frequency table has slightly different placements now. However, the top genres are still Tools, Education, Entertainment, Business, and Lifestyle. Practical app genres are very common in the Google Play Store. They are more common here than in the Apple App Store.</p>
<p>Based on the results, the Google Play Store has a selection of apps that is more balanced between entertainment and practicality.</p>
<hr>
<p>Going back to the the frequency table of Categories, since it seems that each Category represents a group of Genres. For example, one would expect apps in the Simulation, Arcade, Puzzle, Strategy, etc. genres to be under the Game category. It was shown earlier that this category is the 2nd most common in the Google Play Store.</p>
<p>The Categories column is more general and thus gives a more accurate picture of the common types of apps. Thus, from here on, I will be analyzing <strong>only the <code>"Category"</code> column and not the <code>"Genres"</code> column</strong>.</p>
<p>Also, I will use "app type" to generally refer to the Apple App Store's <code>"prime_genre"</code> values or the Google Play Store's <code>"Category"</code> values.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="App-Types-by-Number-of-Users">
<a class="anchor" href="#App-Types-by-Number-of-Users" aria-hidden="true"><span class="octicon octicon-link"></span></a>App Types by Number of Users<a class="anchor-link" href="#App-Types-by-Number-of-Users"> </a>
</h1>
<p>We first looked at app types in terms of how common they are in the two app markets. Now, we shall see how many users there are for each app type.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Apple-Prime-Genres:-Rating-Counts">
<a class="anchor" href="#Apple-Prime-Genres:-Rating-Counts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Apple Prime Genres: Rating Counts<a class="anchor-link" href="#Apple-Prime-Genres:-Rating-Counts"> </a>
</h2>
<p>In the Apple App Store dataset, there is no column that indicates the number of users.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ios_clean</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>['id', 'track_name', 'size_bytes', 'currency', 'price', 'rating_count_tot', 'rating_count_ver', 'user_rating', 'user_rating_ver', 'ver', 'cont_rating', 'prime_genre', 'sup_devices.num', 'ipadSc_urls.num', 'lang.num', 'vpp_lic']
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>However, the <code>"rating_count_tot"</code> column exists. It indicates the total number of ratings given to each app. We can use it as a proxy for the number of users of each app.</p>
<p>The function below will return a Series showing the average number of users per app within each type. (Not the total number of users per type.)</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">users_by_type</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">type_col</span><span class="p">,</span> <span class="n">users_col</span><span class="p">,</span> <span class="n">moct</span> <span class="o">=</span> <span class="s2">"mean"</span><span class="p">):</span>
    
    <span class="sd">"""Return a Series that maps each app type to</span>
<span class="sd">    the average number of users per app for that type.</span>
<span class="sd">    Specify 'mean' or 'median' for the measure of central tendency."""</span>
    
    <span class="n">dct</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">app_type</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">type_col</span><span class="p">]</span>
        <span class="n">users</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">users_col</span><span class="p">]</span>
        
        <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">app_type</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
    
    <span class="n">dct2</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">app_type</span> <span class="ow">in</span> <span class="n">dct</span><span class="p">:</span>
        <span class="n">counts</span> <span class="o">=</span> <span class="n">dct</span><span class="p">[</span><span class="n">app_type</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">moct</span> <span class="o">==</span> <span class="s2">"mean"</span><span class="p">:</span>
            <span class="n">dct2</span><span class="p">[</span><span class="n">app_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">moct</span> <span class="o">==</span> <span class="s2">"median"</span><span class="p">:</span>
            <span class="n">dct2</span><span class="p">[</span><span class="n">app_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>
        
    <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">dct2</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="n">ios_users</span> <span class="o">=</span> <span class="n">users_by_type</span><span class="p">(</span><span class="n">ios_clean</span><span class="p">,</span> <span class="s2">"prime_genre"</span><span class="p">,</span> <span class="s2">"rating_count_tot"</span><span class="p">)</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">ios_users</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Navigation</td>
      <td>86090.333333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Reference</td>
      <td>74942.111111</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Social Networking</td>
      <td>71548.349057</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Music</td>
      <td>57326.530303</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Weather</td>
      <td>52279.892857</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">ios_users</span><span class="p">,</span>
    <span class="s2">"Top 5 Most Popular iOS Apps"</span><span class="p">,</span>
    <span class="s2">"Mean Number of Users per App"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-aea2aef014b44af482c654f50ef777c2"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-aea2aef014b44af482c654f50ef777c2") {
      outputDiv = document.getElementById("altair-viz-aea2aef014b44af482c654f50ef777c2");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Mean Number of Users per App"}}, "title": "Top 5 Most Popular iOS Apps"}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "dy": -5}, "encoding": {"text": {"type": "quantitative", "field": "number"}, "x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Mean Number of Users per App"}}, "title": "Top 5 Most Popular iOS Apps"}], "data": {"name": "data-aa793dd5cf8c34022c82c2b82e099fc3"}, "height": 400, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-aa793dd5cf8c34022c82c2b82e099fc3": [{"index": "Navigation", "number": 86090.33}, {"index": "Reference", "number": 74942.11}, {"index": "Social Networking", "number": 71548.35}, {"index": "Music", "number": 57326.53}, {"index": "Weather", "number": 52279.89}, {"index": "Book", "number": 39758.5}, {"index": "Food & Drink", "number": 33333.92}, {"index": "Finance", "number": 31467.94}, {"index": "Photo & Video", "number": 28441.54}, {"index": "Travel", "number": 28243.8}, {"index": "Shopping", "number": 26919.69}, {"index": "Health & Fitness", "number": 23298.02}, {"index": "Sports", "number": 23008.9}, {"index": "Games", "number": 22812.92}, {"index": "News", "number": 21248.02}, {"index": "Productivity", "number": 21028.41}, {"index": "Utilities", "number": 18684.46}, {"index": "Lifestyle", "number": 16485.76}, {"index": "Entertainment", "number": 14029.83}, {"index": "Business", "number": 7491.12}, {"index": "Education", "number": 7003.98}, {"index": "Catalogs", "number": 4004.0}, {"index": "Medical", "number": 612.0}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The top 5 iOS app types with the highest mean average number of users per app are Navigation, Reference, Social Networking, Music, and Weather.</p>
<p>However, these mean averages may be skewed by a few particularly popular apps. For example, let us look at the number of users of the top 5 Navigation apps.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ios_nav</span> <span class="o">=</span> <span class="n">ios_clean</span><span class="p">[[</span>
    <span class="s2">"track_name"</span><span class="p">,</span>
    <span class="s2">"rating_count_tot"</span><span class="p">,</span>
<span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="n">ios_clean</span><span class="p">[</span><span class="s2">"prime_genre"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Navigation"</span>
<span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="n">by</span> <span class="o">=</span> <span class="s2">"rating_count_tot"</span><span class="p">,</span>
    <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span>
    <span class="s2">"track_name"</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># `ios_nav` is still a DataFrame at this point.</span>
<span class="c1"># It becomes a Series below.</span>
<span class="n">ios_nav</span> <span class="o">=</span> <span class="n">ios_nav</span><span class="p">[</span><span class="s2">"rating_count_tot"</span><span class="p">]</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">ios_nav</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>track_name</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Waze - GPS Navigation, Maps &amp; Real-time Traffic</td>
      <td>345046</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Google Maps - Navigation &amp; Transit</td>
      <td>154911</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Geocaching®</td>
      <td>12811</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CoPilot GPS – Car Navigation &amp; Offline Maps</td>
      <td>3582</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ImmobilienScout24: Real Estate Search in Germany</td>
      <td>187</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">ios_nav</span><span class="p">,</span>
    <span class="s2">"Top 5 Most Popular iOS Navigation Apps"</span><span class="p">,</span>
    <span class="s2">"Number of Users"</span><span class="p">,</span>
    <span class="n">shorten</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\api.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, *args, **kwargs)</span>
<span class="ansi-green-fg">    371</span> 
<span class="ansi-green-fg">    372</span>         <span class="ansi-green-intense-fg ansi-bold">try</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 373</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> super<span class="ansi-yellow-intense-fg ansi-bold">(</span>TopLevelMixin<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    374</span>         <span class="ansi-green-intense-fg ansi-bold">except</span> jsonschema<span class="ansi-yellow-intense-fg ansi-bold">.</span>ValidationError<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    375</span>             dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-green-intense-fg ansi-bold">None</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     56</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 58</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;listcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     56</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 58</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\api.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, *args, **kwargs)</span>
<span class="ansi-green-fg">    371</span> 
<span class="ansi-green-fg">    372</span>         <span class="ansi-green-intense-fg ansi-bold">try</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 373</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> super<span class="ansi-yellow-intense-fg ansi-bold">(</span>TopLevelMixin<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    374</span>         <span class="ansi-green-intense-fg ansi-bold">except</span> jsonschema<span class="ansi-yellow-intense-fg ansi-bold">.</span>ValidationError<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    375</span>             dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-green-intense-fg ansi-bold">None</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\schema\channels.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">     38</span>             <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>type_in_shorthand <span class="ansi-green-intense-fg ansi-bold">or</span> type_defined_explicitly<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     39</span>                 <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>context<span class="ansi-yellow-intense-fg ansi-bold">.</span>get<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">'data'</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> pd<span class="ansi-yellow-intense-fg ansi-bold">.</span>DataFrame<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 40</span><span class="ansi-yellow-intense-fg ansi-bold">                     raise ValueError("{} encoding field is specified without a type; "
</span><span class="ansi-green-fg">     41</span>                                      <span class="ansi-blue-intense-fg ansi-bold">"the type cannot be inferred because it does not "</span>
<span class="ansi-green-fg">     42</span>                                      "match any column in the data.".format(shorthand))

<span class="ansi-red-intense-fg ansi-bold">ValueError</span>: index encoding field is specified without a type; the type cannot be inferred because it does not match any column in the data.</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>alt.LayerChart(...)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Clearly, the distribution is skewed because Waze has such a high number of users. Therefore, a better measure of central tendency to use would be the median, not the mean.</p>
<p>Let us repeat the analysis using the median this time:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ios_users</span> <span class="o">=</span> <span class="n">users_by_type</span><span class="p">(</span>
    <span class="n">ios_clean</span><span class="p">,</span>
    <span class="s2">"prime_genre"</span><span class="p">,</span>
    <span class="s2">"rating_count_tot"</span><span class="p">,</span>
    <span class="n">moct</span> <span class="o">=</span> <span class="s2">"median"</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">ios_users</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Productivity</td>
      <td>8737.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Navigation</td>
      <td>8196.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Reference</td>
      <td>6614.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Shopping</td>
      <td>5936.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Social Networking</td>
      <td>4199.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">ios_users</span><span class="p">,</span>
    <span class="s2">"Top 5 Most Popular iOS Apps"</span><span class="p">,</span>
    <span class="s2">"Median Number of Users per App"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-d759198a2d0b4125a743734e2b00aff6"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d759198a2d0b4125a743734e2b00aff6") {
      outputDiv = document.getElementById("altair-viz-d759198a2d0b4125a743734e2b00aff6");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Median Number of Users per App"}}, "title": "Top 5 Most Popular iOS Apps"}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "dy": -5}, "encoding": {"text": {"type": "quantitative", "field": "number"}, "x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Median Number of Users per App"}}, "title": "Top 5 Most Popular iOS Apps"}], "data": {"name": "data-041c58940f6ea8a215d0ea6fdf7555f1"}, "height": 400, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-041c58940f6ea8a215d0ea6fdf7555f1": [{"index": "Productivity", "number": 8737.5}, {"index": "Navigation", "number": 8196.5}, {"index": "Reference", "number": 6614.0}, {"index": "Shopping", "number": 5936.0}, {"index": "Social Networking", "number": 4199.0}, {"index": "Music", "number": 3850.0}, {"index": "Health & Fitness", "number": 2459.0}, {"index": "Photo & Video", "number": 2206.0}, {"index": "Finance", "number": 1931.0}, {"index": "Sports", "number": 1628.0}, {"index": "Food & Drink", "number": 1490.5}, {"index": "Catalogs", "number": 1229.0}, {"index": "Entertainment", "number": 1197.5}, {"index": "Business", "number": 1150.0}, {"index": "Lifestyle", "number": 1111.0}, {"index": "Utilities", "number": 1110.0}, {"index": "Games", "number": 904.0}, {"index": "Travel", "number": 798.5}, {"index": "Education", "number": 606.5}, {"index": "Medical", "number": 566.5}, {"index": "Book", "number": 421.5}, {"index": "News", "number": 373.0}, {"index": "Weather", "number": 289.0}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The top 5 most popular iOS apps by median number of users per app are:</p>
<ul>
<li>Productivity</li>
<li>Navigation</li>
<li>Reference</li>
<li>Shopping</li>
<li>Social Networking</li>
</ul>
<p>These placements are quite different from the top 5 most common iOS apps (Games, Entertainment, Photo &amp; Video, Education, and Social Networking).</p>
<hr>
<p><strong>In general, we can say the following about the Apple App Store.</strong></p>
<ul>
<li>Apps for entertainment and fun, notably Games, are the most common apps.</li>
<li>Apps for practical purposes, notably Productivity, are the most popular apps.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Google-Categories:-Installs">
<a class="anchor" href="#Google-Categories:-Installs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Google Categories: Installs<a class="anchor-link" href="#Google-Categories:-Installs"> </a>
</h2>
<p>Let us see which columns in the Google Play Store dataset can tell us about the number of users per app.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">android_clean</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>App</th>
      <th>Category</th>
      <th>Rating</th>
      <th>Reviews</th>
      <th>Size</th>
      <th>Installs</th>
      <th>Type</th>
      <th>Price</th>
      <th>Content Rating</th>
      <th>Genres</th>
      <th>Last Updated</th>
      <th>Current Ver</th>
      <th>Android Ver</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Photo Editor &amp; Candy Camera &amp; Grid &amp; ScrapBook</td>
      <td>ART_AND_DESIGN</td>
      <td>4.1</td>
      <td>159</td>
      <td>19M</td>
      <td>10,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>January 7, 2018</td>
      <td>1.0.0</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>2</th>
      <td>U Launcher Lite – FREE Live Cool Themes, Hide ...</td>
      <td>ART_AND_DESIGN</td>
      <td>4.7</td>
      <td>87510</td>
      <td>8.7M</td>
      <td>5,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>August 1, 2018</td>
      <td>1.2.4</td>
      <td>4.0.3 and up</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sketch - Draw &amp; Paint</td>
      <td>ART_AND_DESIGN</td>
      <td>4.5</td>
      <td>215644</td>
      <td>25M</td>
      <td>50,000,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Teen</td>
      <td>Art &amp; Design</td>
      <td>June 8, 2018</td>
      <td>Varies with device</td>
      <td>4.2 and up</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pixel Draw - Number Art Coloring Book</td>
      <td>ART_AND_DESIGN</td>
      <td>4.3</td>
      <td>967</td>
      <td>2.8M</td>
      <td>100,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design;Creativity</td>
      <td>June 20, 2018</td>
      <td>1.1</td>
      <td>4.4 and up</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Paper flowers instructions</td>
      <td>ART_AND_DESIGN</td>
      <td>4.4</td>
      <td>167</td>
      <td>5.6M</td>
      <td>50,000+</td>
      <td>Free</td>
      <td>0</td>
      <td>Everyone</td>
      <td>Art &amp; Design</td>
      <td>March 26, 2017</td>
      <td>1.0</td>
      <td>2.3 and up</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The "Installs" column seems like the best indicator of the number of users.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">android_clean</span><span class="p">[[</span><span class="s2">"App"</span><span class="p">,</span> <span class="s2">"Installs"</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>App</th>
      <th>Installs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Photo Editor &amp; Candy Camera &amp; Grid &amp; ScrapBook</td>
      <td>10,000+</td>
    </tr>
    <tr>
      <th>2</th>
      <td>U Launcher Lite – FREE Live Cool Themes, Hide ...</td>
      <td>5,000,000+</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sketch - Draw &amp; Paint</td>
      <td>50,000,000+</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pixel Draw - Number Art Coloring Book</td>
      <td>100,000+</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Paper flowers instructions</td>
      <td>50,000+</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10836</th>
      <td>Sya9a Maroc - FR</td>
      <td>5,000+</td>
    </tr>
    <tr>
      <th>10837</th>
      <td>Fr. Mike Schmitz Audio Teachings</td>
      <td>100+</td>
    </tr>
    <tr>
      <th>10838</th>
      <td>Parkinson Exercices FR</td>
      <td>1,000+</td>
    </tr>
    <tr>
      <th>10839</th>
      <td>The SCP Foundation DB fr nn5n</td>
      <td>1,000+</td>
    </tr>
    <tr>
      <th>10840</th>
      <td>iHoroscope - 2018 Daily Horoscope &amp; Astrology</td>
      <td>10,000,000+</td>
    </tr>
  </tbody>
</table>
<p>8864 rows × 2 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The column contains strings which indicate the general range of how many users installed the apps. Since we cannot find the exact number of installs, we will simply remove the "+" signs and convert the numbers into integers.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">android_clean</span><span class="p">[</span><span class="s2">"Installs"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">"[,+]"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
                            <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">android_clean</span><span class="p">[</span><span class="s2">"Installs"</span><span class="p">]]</span>

<span class="n">android_clean</span><span class="p">[[</span><span class="s2">"Installs"</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Installs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>50000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>10836</th>
      <td>5000</td>
    </tr>
    <tr>
      <th>10837</th>
      <td>100</td>
    </tr>
    <tr>
      <th>10838</th>
      <td>1000</td>
    </tr>
    <tr>
      <th>10839</th>
      <td>1000</td>
    </tr>
    <tr>
      <th>10840</th>
      <td>10000000</td>
    </tr>
  </tbody>
</table>
<p>8864 rows × 1 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let us now see which app categories are most popular. We will use the median average here, as we did for iOS apps.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">android_users</span> <span class="o">=</span> <span class="n">users_by_type</span><span class="p">(</span>
    <span class="n">android_clean</span><span class="p">,</span>
    <span class="s2">"Category"</span><span class="p">,</span>
    <span class="s2">"Installs"</span><span class="p">,</span>
    <span class="n">moct</span> <span class="o">=</span> <span class="s2">"median"</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">android_users</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ENTERTAINMENT</td>
      <td>1000000.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>EDUCATION</td>
      <td>1000000.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>GAME</td>
      <td>1000000.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PHOTOGRAPHY</td>
      <td>1000000.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SHOPPING</td>
      <td>1000000.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>WEATHER</td>
      <td>1000000.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>VIDEO_PLAYERS</td>
      <td>1000000.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>COMMUNICATION</td>
      <td>500000.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>FOOD_AND_DRINK</td>
      <td>500000.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>HEALTH_AND_FITNESS</td>
      <td>500000.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">android_users</span><span class="p">,</span>
    <span class="s2">"Top 10 Most Popular Types of Android Apps"</span><span class="p">,</span>
    <span class="s2">"Median Number of Users per App"</span><span class="p">,</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">shorten</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-e301c71119954fc7b6c3f93970983394"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-e301c71119954fc7b6c3f93970983394") {
      outputDiv = document.getElementById("altair-viz-e301c71119954fc7b6c3f93970983394");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Median Number of Users per App"}}, "title": "Top 10 Most Popular Types of Android Apps"}, {"mark": {"type": "text", "align": "center", "baseline": "middle", "dy": -5}, "encoding": {"text": {"type": "quantitative", "field": "number"}, "x": {"type": "nominal", "field": "index", "sort": "-y", "title": "Name"}, "y": {"type": "quantitative", "field": "number", "title": "Median Number of Users per App"}}, "title": "Top 10 Most Popular Types of Android Apps"}], "data": {"name": "data-e6b61a7c18a917b5e76e08862be8670b"}, "height": 400, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-e6b61a7c18a917b5e76e08862be8670b": [{"index": "ENTERTAINMENT", "number": 1000000.0}, {"index": "EDUCATION", "number": 1000000.0}, {"index": "GAME", "number": 1000000.0}, {"index": "PHOTOGRAPHY", "number": 1000000.0}, {"index": "SHOPPING", "number": 1000000.0}, {"index": "WEATHER", "number": 1000000.0}, {"index": "VIDEO_PLAYERS", "number": 1000000.0}, {"index": "COMMUNICATION", "number": 500000.0}, {"index": "FOOD_AND_DRINK", "number": 500000.0}, {"index": "HEALTH_AND_FITNESS", "number": 500000.0}, {"index": "HOUSE_AND_HOME", "number": 500000.0}, {"index": "PRODUCTIVITY", "number": 100000.0}, {"index": "PERSONALIZATION", "number": 100000.0}, {"index": "PARENTING", "number": 100000.0}, {"index": "SOCIAL", "number": 100000.0}, {"index": "TOOLS", "number": 100000.0}, {"index": "TRAVEL_AND_LOCAL", "number": 100000.0}, {"index": "SPORTS", "number": 100000.0}, {"index": "ART_AND_DESIGN", "number": 100000.0}, {"index": "MAPS_AND_NAVIGATION", "number": 100000.0}, {"index": "FAMILY", "number": 100000.0}, {"index": "AUTO_AND_VEHICLES", "number": 100000.0}, {"index": "COMICS", "number": 100000.0}, {"index": "BOOKS_AND_REFERENCE", "number": 50000.0}, {"index": "BEAUTY", "number": 50000.0}, {"index": "NEWS_AND_MAGAZINES", "number": 50000.0}, {"index": "LIBRARIES_AND_DEMO", "number": 10000.0}, {"index": "FINANCE", "number": 10000.0}, {"index": "DATING", "number": 10000.0}, {"index": "LIFESTYLE", "number": 10000.0}, {"index": "MEDICAL", "number": 1000.0}, {"index": "EVENTS", "number": 1000.0}, {"index": "BUSINESS", "number": 1000.0}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since the top 5 spots all had the same median number of users per app (1000000), the graph was expanded to include the top 10 spots.</p>
<p>It appears that the types of Android apps with the highest median number of users per app are:</p>
<ul>
<li>GAME</li>
<li>VIDEO_PLAYERS</li>
<li>WEATHER</li>
<li>EDUCATION</li>
<li>ENTERTAINMENT</li>
<li>PHOTOGRAPHY</li>
<li>SHOPPING</li>
</ul>
<hr>
<p>In general, we can say the following about the Google Play Store:</p>
<ul>
<li>Both fun apps and practical apps are very common.</li>
<li>The most popular apps are also a mix of fun apps and practical apps.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="App-Profile-Ideas">
<a class="anchor" href="#App-Profile-Ideas" aria-hidden="true"><span class="octicon octicon-link"></span></a>App Profile Ideas<a class="anchor-link" href="#App-Profile-Ideas"> </a>
</h1>
<p>Based on the results, we can now determine a profitable app profile for the hypothetical app company.</p>
<p>Here is a summary of the findings on the 2 app stores.</p>
<ul>
<li>The Google Play Store has a <strong>balanced mix</strong> of fun and practical apps, so we can pick either kind.</li>
<li>On the other hand, the Apple App Store appears to be <strong>oversaturated with game apps</strong>, and <strong>practical apps are more popular</strong>.</li>
</ul>
<p>Therefore, in order to get the most users, the app company can set themselves apart in the Apple App Store by developing a useful <strong>practical app</strong>.</p>
<p>The most popular types of practical apps for the Apple App Store would be:</p>
<ul>
<li>Productivity</li>
<li>Navigation</li>
<li>Reference</li>
<li>Shopping</li>
</ul>
<p>For the Google Play Store, these would be:</p>
<ul>
<li>Weather</li>
<li>Education</li>
<li>Photography</li>
<li>Shopping</li>
</ul>
<p>Shopping appears in both lists, so it may be the most profitable type of app. However, the app company would have to make a unique app that has an edge over existing popular shopping apps. The same would apply for making a navigation app.</p>
<p>Considering that Reference and Education apps are popular, perhaps these two types could be combined into one app. First, let us find out the titles of the most popular apps in these genres.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">reference_popularity</span> <span class="o">=</span> <span class="n">ios_clean</span><span class="p">[[</span>
    <span class="s2">"track_name"</span><span class="p">,</span>
    <span class="s2">"rating_count_tot"</span>
<span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="n">ios_clean</span><span class="p">[</span><span class="s2">"prime_genre"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Reference"</span>
<span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span>
<span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">"rating_count_tot"</span><span class="p">,</span>
    <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span>
    <span class="s2">"track_name"</span><span class="p">,</span>
<span class="p">)[</span><span class="s2">"rating_count_tot"</span><span class="p">]</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">reference_popularity</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>track_name</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bible</td>
      <td>985920</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Dictionary.com Dictionary &amp; Thesaurus</td>
      <td>200047</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Dictionary.com Dictionary &amp; Thesaurus for iPad</td>
      <td>54175</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Google Translate</td>
      <td>26786</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Muslim Pro: Ramadan 2017 Prayer Times, Azan, Q...</td>
      <td>18418</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">reference_popularity</span><span class="p">,</span>
    <span class="s2">"Top 5 Most Popular iOS Reference Apps"</span><span class="p">,</span>
    <span class="s2">"Number of Users"</span><span class="p">,</span>
    <span class="n">shorten</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\api.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, *args, **kwargs)</span>
<span class="ansi-green-fg">    371</span> 
<span class="ansi-green-fg">    372</span>         <span class="ansi-green-intense-fg ansi-bold">try</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 373</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> super<span class="ansi-yellow-intense-fg ansi-bold">(</span>TopLevelMixin<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    374</span>         <span class="ansi-green-intense-fg ansi-bold">except</span> jsonschema<span class="ansi-yellow-intense-fg ansi-bold">.</span>ValidationError<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    375</span>             dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-green-intense-fg ansi-bold">None</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     56</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 58</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;listcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     56</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 58</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\api.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, *args, **kwargs)</span>
<span class="ansi-green-fg">    371</span> 
<span class="ansi-green-fg">    372</span>         <span class="ansi-green-intense-fg ansi-bold">try</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 373</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> super<span class="ansi-yellow-intense-fg ansi-bold">(</span>TopLevelMixin<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    374</span>         <span class="ansi-green-intense-fg ansi-bold">except</span> jsonschema<span class="ansi-yellow-intense-fg ansi-bold">.</span>ValidationError<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    375</span>             dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-green-intense-fg ansi-bold">None</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\schema\channels.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">     38</span>             <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>type_in_shorthand <span class="ansi-green-intense-fg ansi-bold">or</span> type_defined_explicitly<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     39</span>                 <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>context<span class="ansi-yellow-intense-fg ansi-bold">.</span>get<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">'data'</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> pd<span class="ansi-yellow-intense-fg ansi-bold">.</span>DataFrame<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 40</span><span class="ansi-yellow-intense-fg ansi-bold">                     raise ValueError("{} encoding field is specified without a type; "
</span><span class="ansi-green-fg">     41</span>                                      <span class="ansi-blue-intense-fg ansi-bold">"the type cannot be inferred because it does not "</span>
<span class="ansi-green-fg">     42</span>                                      "match any column in the data.".format(shorthand))

<span class="ansi-red-intense-fg ansi-bold">ValueError</span>: index encoding field is specified without a type; the type cannot be inferred because it does not match any column in the data.</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>alt.LayerChart(...)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">education_popularity</span> <span class="o">=</span> <span class="n">android_clean</span><span class="p">[[</span>
    <span class="s2">"App"</span><span class="p">,</span>
    <span class="s2">"Installs"</span>
<span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="n">android_clean</span><span class="p">[</span><span class="s2">"Category"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"EDUCATION"</span>
<span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span>
<span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">"Installs"</span><span class="p">,</span>
    <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span>
    <span class="s2">"App"</span><span class="p">,</span>
<span class="p">)[</span><span class="s2">"Installs"</span><span class="p">]</span>

<span class="n">sr_to_df</span><span class="p">(</span><span class="n">education_popularity</span><span class="p">,</span> <span class="n">n_head</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>App</th>
      <th>number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Quizlet: Learn Languages &amp; Vocab with Flashcards</td>
      <td>10000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Learn languages, grammar &amp; vocabulary with Mem...</td>
      <td>10000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Learn English with Wlingua</td>
      <td>10000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Remind: School Communication</td>
      <td>10000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Math Tricks</td>
      <td>10000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bar_n</span><span class="p">(</span>
    <span class="n">education_popularity</span><span class="p">,</span>
    <span class="s2">"Top 5 Most Popular Android Education Apps"</span><span class="p">,</span>
    <span class="s2">"Number of Users"</span><span class="p">,</span>
    <span class="n">shorten</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ValueError</span>                                Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\api.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, *args, **kwargs)</span>
<span class="ansi-green-fg">    371</span> 
<span class="ansi-green-fg">    372</span>         <span class="ansi-green-intense-fg ansi-bold">try</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 373</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> super<span class="ansi-yellow-intense-fg ansi-bold">(</span>TopLevelMixin<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    374</span>         <span class="ansi-green-intense-fg ansi-bold">except</span> jsonschema<span class="ansi-yellow-intense-fg ansi-bold">.</span>ValidationError<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    375</span>             dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-green-intense-fg ansi-bold">None</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     56</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 58</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;listcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     56</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 58</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\api.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, *args, **kwargs)</span>
<span class="ansi-green-fg">    371</span> 
<span class="ansi-green-fg">    372</span>         <span class="ansi-green-intense-fg ansi-bold">try</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 373</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> super<span class="ansi-yellow-intense-fg ansi-bold">(</span>TopLevelMixin<span class="ansi-yellow-intense-fg ansi-bold">,</span> copy<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">*</span>args<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">**</span>kwargs<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    374</span>         <span class="ansi-green-intense-fg ansi-bold">except</span> jsonschema<span class="ansi-yellow-intense-fg ansi-bold">.</span>ValidationError<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    375</span>             dct <span class="ansi-yellow-intense-fg ansi-bold">=</span> <span class="ansi-green-intense-fg ansi-bold">None</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">    323</span>             result <span class="ansi-yellow-intense-fg ansi-bold">=</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    324</span>         <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_args<span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 325</span><span class="ansi-yellow-intense-fg ansi-bold">             result = _todict(
</span><span class="ansi-green-fg">    326</span>                 <span class="ansi-yellow-intense-fg ansi-bold">{</span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> v <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_kwds<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">if</span> k <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-green-intense-fg ansi-bold">in</span> ignore<span class="ansi-yellow-intense-fg ansi-bold">}</span><span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    327</span>                 validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>sub_validate<span class="ansi-yellow-intense-fg ansi-bold">,</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 60</span><span class="ansi-yellow-intense-fg ansi-bold">         return {
</span><span class="ansi-green-fg">     61</span>             k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">&lt;dictcomp&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(.0)</span>
<span class="ansi-green-fg">     59</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> dict<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     60</span>         return {
<span class="ansi-green-intense-fg ansi-bold">---&gt; 61</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>k<span class="ansi-yellow-intense-fg ansi-bold">:</span> _todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     62</span>             <span class="ansi-green-intense-fg ansi-bold">for</span> k<span class="ansi-yellow-intense-fg ansi-bold">,</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>items<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     63</span>             <span class="ansi-green-intense-fg ansi-bold">if</span> v <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">not</span> Undefined

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\utils\schemapi.py</span> in <span class="ansi-cyan-fg">_todict</span><span class="ansi-blue-intense-fg ansi-bold">(obj, validate, context)</span>
<span class="ansi-green-fg">     54</span>     <span class="ansi-blue-intense-fg ansi-bold">"""Convert an object to a dict representation."""</span>
<span class="ansi-green-fg">     55</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> SchemaBase<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 56</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> obj<span class="ansi-yellow-intense-fg ansi-bold">.</span>to_dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>validate<span class="ansi-yellow-intense-fg ansi-bold">=</span>validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">=</span>context<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     57</span>     <span class="ansi-green-intense-fg ansi-bold">elif</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>obj<span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>list<span class="ansi-yellow-intense-fg ansi-bold">,</span> tuple<span class="ansi-yellow-intense-fg ansi-bold">,</span> np<span class="ansi-yellow-intense-fg ansi-bold">.</span>ndarray<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     58</span>         <span class="ansi-green-intense-fg ansi-bold">return</span> <span class="ansi-yellow-intense-fg ansi-bold">[</span>_todict<span class="ansi-yellow-intense-fg ansi-bold">(</span>v<span class="ansi-yellow-intense-fg ansi-bold">,</span> validate<span class="ansi-yellow-intense-fg ansi-bold">,</span> context<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">for</span> v <span class="ansi-green-intense-fg ansi-bold">in</span> obj<span class="ansi-yellow-intense-fg ansi-bold">]</span>

<span class="ansi-green-intense-fg ansi-bold">~\anaconda3\lib\site-packages\altair\vegalite\v4\schema\channels.py</span> in <span class="ansi-cyan-fg">to_dict</span><span class="ansi-blue-intense-fg ansi-bold">(self, validate, ignore, context)</span>
<span class="ansi-green-fg">     38</span>             <span class="ansi-green-intense-fg ansi-bold">elif</span> <span class="ansi-green-intense-fg ansi-bold">not</span> <span class="ansi-yellow-intense-fg ansi-bold">(</span>type_in_shorthand <span class="ansi-green-intense-fg ansi-bold">or</span> type_defined_explicitly<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">     39</span>                 <span class="ansi-green-intense-fg ansi-bold">if</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>context<span class="ansi-yellow-intense-fg ansi-bold">.</span>get<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">'data'</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> pd<span class="ansi-yellow-intense-fg ansi-bold">.</span>DataFrame<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 40</span><span class="ansi-yellow-intense-fg ansi-bold">                     raise ValueError("{} encoding field is specified without a type; "
</span><span class="ansi-green-fg">     41</span>                                      <span class="ansi-blue-intense-fg ansi-bold">"the type cannot be inferred because it does not "</span>
<span class="ansi-green-fg">     42</span>                                      "match any column in the data.".format(shorthand))

<span class="ansi-red-intense-fg ansi-bold">ValueError</span>: index encoding field is specified without a type; the type cannot be inferred because it does not match any column in the data.</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>alt.LayerChart(...)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The most popular Reference apps are the Bible and some dictionary and translation apps. The most popular Education apps teach languages (especially English), or Math.</p>
<p>Therefore, the following are some ideas of a profitable app:</p>
<ul>
<li>An app containing the Bible, another religious text, or another well-known text. The app can additionally include reflections and theology/spirituality courses.</li>
<li>An app that contains an English dictionary, a translator, and some quick guides on English vocabulary and grammar.<ul>
<li>An app like the above, but for a different language that is spoken by many people.</li>
</ul>
</li>
<li>An app that teaches English and Math lessons. Perhaps it could be marketed as a practice app for an entrance exam.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Conclusion">
<a class="anchor" href="#Conclusion" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conclusion<a class="anchor-link" href="#Conclusion"> </a>
</h1>
<p>In this project, we analyzed app data from a Google Play Store dataset and an Apple App Store dataset. Apps were limited to free apps targeted towards English speakers, because the hypothetical app company makes these kinds of apps. The most common and popular app genres were determined.</p>
<p>In the end, several ideas of profitable apps were listed. The app company may now review the analysis and consider the suggestions. This may help them make an informed, data-driven decision regarding the next app that they will develop.</p>

</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="MiguelAHG/mahg-data-science"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/mahg-data-science/python/pandas/matplotlib/2021/05/08/ProfitableAppProfiles.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/mahg-data-science/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/mahg-data-science/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/mahg-data-science/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>A blog and portfolio of data science projects by Migs Germar.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/MiguelAHG" title="MiguelAHG"><svg class="svg-icon grey"><use xlink:href="/mahg-data-science/assets/minima-social-icons.svg#github"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
